{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Empresas{% endblock %}</title>
    <link rel="stylesheet" href="{% static 'css/ver_empresas.css' %}">
    <link rel="icon" href="{% static 'img/Logo camejobs.png' %}">
</head>

<body>
    <div class="main-content">
        <!-- Navbar -->
        {% include 'usuarios/navbar.html' %}

        <main>
            <!-- Bot√≥n hamburguesa para filtros -->
            <button id="toggleFiltros" class="btn-filtros">‚ò∞ Filtros</button>
            <div class="perfil-container">
                <!-- Secci√≥n izquierda: Filtros -->
                <aside class="filtros" id="filtrosContainer">
                    <h2>Filtros</h2>

                    <!-- Barra de b√∫squeda -->
                    <span class="texto">Buscar</span>
                    <div class="input-container">
                        <input type="text" id="searchBar" placeholder="Buscar Empresa"
                            onkeyup="applyFilters()">
                        <img src="{% static 'img/logo camejobs.png' %}" alt="Buscar">
                    </div>
                    <br>

                    <!-- Filtro de ubicacion -->
                    <span class="texto">Ubicaci√≥n</span>
                    <select id="filterUbicacion" class="filter-select" onchange="applyFilters()">
                        <option class="filter-select-option" value="">Ubicaci√≥n</option>
                        {% for ubicacion in ubicaciones %}
                        <option class="filter-select-option" value="{{ ubicacion }}">{{ ubicacion }}</option>
                        {% endfor %}
                    </select>
                    <br>
                </aside>
                <!-- Secci√≥n derecha: Listado de personas -->

                <section class="empresas">
                    {% for empresa in empresas %}
                        <div class="persona" persona-ubicacion="{{ empresa.ubicacion }}">

                            {% if empresa.logo %}
                            <img src="{{ empresa.logo.url }}" alt="{{ empresa.usuario }}" class="persona-foto">
                            {% else %}
                            <img src="{% static 'img/default_profile.png' %}"alt="Sin foto" class="persona-foto">
                            {% endif %}

                            <h2 class="persona-nombre">{{ empresa.razon_social }}</h2>

                            <div class="persona-info">
                                <p class="persona-profesion">üßë {{ empresa.eslogan }}</p>
                                <p class="persona-ubicacion">üìç {{ empresa.ubicacion}}</p>
                            </div>

                            <a class="perfil_link" href="{% url 'perfil_empresa' empresa.id %}"></a>
                        </div>
                    {% empty %}
                    <p class="sin_personas">No hay empresas disponibles.</p>
                    {% endfor %}
                </section>

        </main>
    </div>

    <!-- Footer -->
    {% include 'usuarios/footer.html' %}

</body>

<script src="{% static 'js/empresas.js' %}"></script>
<script src="{% static 'js/filtros.js' %}"></script>
<script src="{% static 'js/darkmode.js' %}"> </script>

</html>